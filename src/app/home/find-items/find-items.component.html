<div class="relative  h-full ">
  <p-toast />
  <img src={{image}} alt="Fondo" class="absolute inset-0 -z-10 opacity-5 w-full h-full object-cover"/>
    <div class="relative  w-full h-full bg-gradient-to-br from-yellow-300 bg-red-800  "></div>
  <div class="container  z-20">
    <div class="mb-10 flex flex-col sm:flex-col lg:flex-row md:flex-row xl:gap-28 md:gap-2 sm:gap-2 z-20 justify-around sm:items-start items-start md:items-center lg:items-center  w-full">
    <div class="fle sm:scale-100 md:scale-100 lg:scale-75 scale-75 ml-0 gap-1">
        <div id="container" class="">
          <div id="flip" class="justify-center scale-50 sm:scale-50 md:scale-75 lg:scale-125 text-center">
              <div>
                  <div class="bg-gradient-to-tl from-green-500 via-green-500 to-green-500">wOrK</div>
              </div>
              <div>
                  <div class="bg-gradient-to-tl from-cyan-400 via-cyan-300 to-cyan-400" >lifeStyle</div>
              </div>
              <div>
                  <div class="bg-gradient-to-tl from-red-600 via-red-500 to-red-700">Everything</div>
              </div>
      </div>
    </div>
    </div>
    <div class=" mx-4 flex">
      <span class="input-group-text px-3 bg-gradient-to-tl from-red-600 via-red-500 to-red-700 shadow-md shadow-amber-400 h-8 sm:h-8 md:h-14 lg:h-14">
        <i class="pi pi-shop"></i>
      </span>
      <input type="text" title="find" [(ngModel)]="searchElement" (keyup)="filterProducts()" class="lg:w-[30rem] h-8 sm:h-8 md:h-14 lg:h-14 min-w-0 flex-auto border-2 bg-white/5 px-3.5 py-2 text-black shadow-sm ring-1 ring-inset  ring-white/10 focus:ring-2 focus:outline-none focus:ring-inset focus:border-blue-500 sm:text-sm sm:leading-6"/>
      <button class="rounded-r-3xl px-3 bg-gradient-to-t hover:bg-gradient-to-b hover:shadow-red-200 shadow-red-400 shadow-md hover:from-yellow-700 hover:via-yellow-500 hover:to-yellow-300 from-yellow-300 via-yellow-500 to-yellow-600 h-8 sm:h-8 md:h-14 lg:h-14 flex justify-center items-center"  (click)="filterProducts()"><i class="pi justify-center flex items-center pi-search text-base sm:text-base md:text-xl lg:text-2xl"></i></button>
    </div>
    <div class="logo flex  w-[7rem] sm:w-[10rem] md:w-[12rem] lg:w-[16rem]    items-center justify-between text-secondary text-5xl font-extrabold absolute sm:absolute ml-52 mb-12 sm:ml-52 md:m-0 lg:m-0 sm:mb-14 md:relative lg:relative ">
      <div class="dropdown open">
        <button

          type="button"
          id="triggerId"
          data-bs-toggle="dropdown"
          aria-haspopup="true"
          aria-expanded="false"
        >
        <i class="pi pi-cog" style="font-size: 2rem"></i>
        </button>
        <div class="dropdown-menu" aria-labelledby="triggerId">
          <button class="dropdown-item" href="#">Action</button>
          <button class="dropdown-item" href="#">
            Disabled action
          </button>
        </div>
      </div>
      <div class="dropdown open">
        <button
          type="button"
          id="triggerId"
          data-bs-toggle="dropdown"
          aria-haspopup="true"
          aria-expanded="false"
        >
        <i class="pi pi-user" style="font-size: 2rem"></i>
        </button>
        <div class="dropdown-menu" aria-labelledby="triggerId">
          <button class="dropdown-item" href="#">Action</button>
          @if (user == null){
            <button routerLink="/user/logIn" class="dropdown-item">
              Log In
            </button>
          }@else  {

            <button (click)="delituser()" class="dropdown-item" href="#">
              Log out
            </button>
          }

        </div>
      </div>
      <button (click)="toggleMenulateral()" role="button" class="cursor-pointer">
        <i class="pi pi-cart-minus" style="font-size: 2rem"></i>
      </button>
    </div>
    <app-menu-lateral [isOpenMenu]="isOpenMenu" />
    </div>
      <app-search-element [input]="searchElement" [searchProduct]="valorfind" />
    <p class="my-3 text-2xl uppercase  font-bold text-slate-700 ">Favorite product</p>
<!-- This is component of Favorite products -->
    <div class="flex flex-nowrap md:w-full lg:w-full sm:flex-row md:flex-row lg:flex-row overflow-x-auto gap-9">
      @for (item of favoriteProduct; track $index) {
      <div class="max-w-[580px] animate">

        <div class="card mb-3 bg-gradient-to-bl bg-slate-500 from-slate-200  w-[560px]">
          <div class="row g-0">
            <div class="col-md-5">
              <img src={{item.urlImg}} class="h-full bg-gradient-to-r from-transparent bg-slate-500 opacity-85 rounded-start" alt="...">
            </div>
            <div class="col-md-7">
              <div class="card-body">
                <h5 class=" text-green-500">{{item.title}}</h5>
                <p class="card-text">{{item.description}}</p>
                <p class="card-text"><small class="text-muted">Quantity available : {{item.cantidad}}</small></p>


                <div class="w-full flex gap-1 justify-end">
                  <button  (click)="addbuy(item.id ,item.title,item.price,item.cantidad,item.urlImg,item.tipo)" class="btn btn-outline-success active:scale-125 "><i class="pi pi-shopping-cart"></i></button>
                  <button  [routerLink]="['/products',item.id_product]"  class="btn btn-outline-success "><i class="pi pi-plus"></i></button>
                </div>
            </div>
          </div>
        </div>
      </div>
    </div>

      }
    </div>
    <!-- this is component of New product -->
    <p class="my-3 text-2xl font-bold text-slate-700">New products</p>
    <p-carousel
    [value]="datosApi"
    [numVisible]="3"
    [numScroll]="3"
    [circular]="true"
    [responsiveOptions]="responsiveOptions"
    autoplayInterval="5000">
        <ng-template let-product pTemplate="item">
          <div class="flex justify-center">

          <div class="border-1 w-72 h-96 bg-gradient-to-b from-white via-slate-50 to-slate-200 rounded-3xl  surface-border border-round m-2 p-3">
                    <div class="mb-3">
                        <div class="relative mx-auto">
                            <img
                                src="{{ product.image }}"
                                [alt]="product.name"
                                class="w-full border-round" />
                            <p-tag
                                [value]="product.inventoryStatus"
                                [severity]="getSeverity(product.inventoryStatus)"
                                class="absolute"
                                [ngStyle]="{ 'left.px': 5, 'top.px': 5 }" />
                        </div>
                    </div>
                    <div class="mb-3 font-medium">
                        {{ product.name }}
                    </div>
                    <div class="flex justify-content-between align-items-center">
                    <div class="mt-0 font-semibold text-xl">
                        {{ '$' + product.price + " cup"}}
                    </div>
                        <span>
                            <p-button icon="pi {{product.icon}}" [ngClass]="{'text-red-600': product.status }" (click)="changleproperty(product.status, product.id)" class="" severity="secondary" [outlined]="true" />
                            <p-button icon="pi pi-shopping-cart"  (click)="addbuy(product.id_product ,product.name,product.price,product.cantidad,product.image,product.tipo)" styleClass="ml-2 " />
                        </span>
                    </div>
                </div>
          </div>

        </ng-template>
  </p-carousel>

  <app-home-secondory/>

</div>
</div>

